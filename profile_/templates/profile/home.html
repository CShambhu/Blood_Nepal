{% extends 'profile/base.html' %}

{% load crispy_forms_tags %}

{% block title %}
Blood Nepal
{% endblock %}

<!-- Hero Section -->

{% block body %}

<section class="text-gray-600 body-font bg-gray-100 min-h-screen">
  <div class="container mx-auto flex flex-wrap px-5 py-6 items-center">
    <!-- Content Section -->
    <div class="w-full md:w-1/2 md:pr-12 mb-10 md:mb-0 pb-10 border-b md:border-b-0 border-gray-200">
      <h1 class="text-2xl md:text-3xl font-medium title-font mb-2 text-gray-900"></h1>
      <p class="leading-relaxed text-base">
        <strong>Blood Nepal</strong> aims to connect the donor and receiver directly without any intervention for fresh blood requirements.
      </p>
      <div class="mt-4">
        <form class="flex flex-col md:flex-row items-center" action="{% url 'search' %}" method="post">
          {% csrf_token %}
          <input
            type="search"
            name="searched"
            placeholder="Enter Blood group or Location"
            aria-label="Search"
            class="w-full md:w-1/2 border border-green-500 py-2 px-3 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"
          />
          <button
            type="submit"
            class="mt-2 md:mt-0 md:ml-4 bg-green-500 text-white py-2 px-4 rounded-md hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500"
          >
            Search
          </button>
        </form>
      </div>
    </div>

    <!-- Conditional Content Based on Authentication -->
    {% if user.is_authenticated %}
    <div class="w-full md:w-1/2 md:pl-12">
      <div class="text-base flex flex-col items-center">
        <p class="text-center">
          Lorem, ipsum dolor sit amet consectetur adipisicing elit. Saepe ipsa eaque consectetur debitis, facere illo.
          Nemo alias voluptas, quos iste pariatur delectus eaque saepe, sint assumenda in voluptate praesentium quaerat
          ratione cum? Nulla molestiae quaerat ad perspiciatis provident voluptas quos.
        </p>
      </div>
    </div>
    {% else %}
    {% block login_form %}
    <div class="w-full md:w-1/2 md:pl-12">
      <div class="text-base flex flex-col items-center">
        <form method="post" enctype="multipart/form-data" class="w-full md:w-3/4">
          {% csrf_token %}
          <div class="mb-4">
            <label for="username" class="block text-gray-700 font-medium mb-2">Username</label>
            <input
              type="text"
              id="username"
              name="username"
              class="w-full border border-gray-300 py-2 px-3 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"
              required
            />
          </div>
          <div class="mb-4">
            <label for="password" class="block text-gray-700 font-medium mb-2">Password</label>
            <input
              type="password"
              id="password"
              name="password"
              class="w-full border border-gray-300 py-2 px-3 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"
              required
            />
          </div>
          <p class="text-center mb-4">
            Already have an account? <a href="{% url 'register_user' %}" class="text-green-600 font-medium"><strong>Register</strong></a>
          </p>
          <button
            type="submit"
            class="w-full bg-green-500 text-white py-2 px-4 rounded-md hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500"
          >
            Login
          </button>
        </form>
      </div>
    </div>
    {% endblock login_form %}
    {% endif %}
  </div>
</section>



{% comment %} <section class="text-gray-600 body-font bg-gray-100 ">
  <div class="container flex flex-wrap px-5 py-3 mx-auto items-center">
    <div class="md:w-1/2 md:pr-12 md:py-8 md:border-r md:border-b-0 mb-10 md:mb-0 pb-10 border-b border-gray-200">
      <h1 class="sm:text-3xl text-2xl font-medium title-font mb-2 text-gray-900"></h1>
      <p class="leading-relaxed text-base">
        <b>Blood Nepal</b> aims to connect the donor and receiver directly without any intervention for fresh blood
        requirements.
      </p>
      <br />
      <div>
        <form class="form-inline my-2 my-lg-8" action = "{% url 'search' %}" method = "post">
          {% csrf_token %}
          <input style="width: 20vw; border: 1px solid #4CAF50; padding: 8px; border-radius: 2px;" type="search" name = "searched" placeholder="Enter Blood group or Location" aria-label="Search" />
          <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
        </form>
      </div>
    </div>
    {% if user.is_authenticated %}
    <div class="flex flex-col md:w-1/2 md:pl-12">
      <div class="flex flex-wrap px-5 py-3 items-center text-base justify-center">
        <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Saepe ipsa eaque consectetur debitis, facere illo.
          Nemo alias voluptas, quos iste pariatur delectus eaque saepe, sint assumenda in voluptate praesentium quaerat
          ratione cum? Nulla molestiae quaerat ad perspiciatis provident voluptas quos.</p>
      </div>
    </div>
    {% else %}
    {% block login_form %}
    <div class="flex flex-col md:w-1/2 md:pl-12">
      <div class="flex flex-wrap px-5 py-3 items-center text-base justify-center">
        <form method="post" enctype="multipart/form-data">
          {% csrf_token %}
          Login Form}
          <div class="form-group">
            <label for="exampleInputEmail1">username</label>
            <input type="text" class="form-control" name="username" aria-describedby="emailHelp" placeholder=""
              required />
          </div>
          <div class="form-group">
            <label for="exampleInputPassword1">Password</label>
            <input type="password" class="form-control" name="password" placeholder="" required />
          </div>
          <br />

          <p>
            Already have an account? <a href="{% url 'register_user' %}"><b>Register</b></a>
          </p>
          <input type="submit" value="Login" class="btn btn-primary" />
        </form>
      </div>
    </div>
    {% endblock login_form %}

    {% endif %}
  </div>
</section> {% endcomment %}
{% endblock %}

{% block loginbar %}
{% endblock %}